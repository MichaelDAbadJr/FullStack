import{j as t,R as j,B as C,C as g,c as E,L as $,r}from"./index-CeC7V2yR.js";const v=e=>{const n=t.jsxs("div",{className:`modal ${e.className}`,style:e.style,children:[t.jsx("header",{className:`modal__header ${e.headerClass}`,children:t.jsx("h2",{children:e.header})}),t.jsxs("form",{onSubmit:e.onSubmit?e.onSubmit:l=>l.preventDefault(),children:[t.jsx("div",{className:`modal__content ${e.contentClass}`,children:e.children}),t.jsx("footer",{className:`modal__footer ${e.footerClass}`,children:e.footer})]})]});return E.createPortal(n,document.getElementById("modal-hook"))},k=e=>t.jsxs(j.Fragment,{children:[e.show&&t.jsx(C,{onClick:e.onCancel}),t.jsx(g,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:t.jsx(v,{...e})})]}),w=e=>e.href?t.jsx("a",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,href:e.href,children:e.children}):e.to?t.jsx($,{to:e.to,exact:e.exact,className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,children:e.children}):t.jsx("button",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children}),N=e=>t.jsx(k,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:t.jsx(w,{onClick:e.onClear,children:"Okay"}),children:t.jsx("p",{children:e.error})}),R=()=>{const[e,n]=r.useState(!1),[l,i]=r.useState(),s=r.useRef([]),d=r.useCallback(async(c,m="GET",f=null,x={})=>{n(!0);const o=new AbortController;s.current.push(o);try{const a=await fetch(c,{method:m,body:f,headers:x,signal:o.signal}),u=await a.json();if(s.current=s.current.filter(b=>b!==o),!a.ok)throw new Error(u.message);return n(!1),u}catch(a){throw i(a.message),n(!1),a}},[]),h=()=>{i(null)};return r.useEffect(()=>()=>{s.current.forEach(c=>c.abort())},[]),{isLoading:e,error:l,sendRequest:d,clearError:h}};export{w as B,N as E,k as M,R as u};
