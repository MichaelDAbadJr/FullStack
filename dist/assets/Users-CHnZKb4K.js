import{j as e,L as d,r as n,R as h,a as o}from"./index-CeC7V2yR.js";import{C as c}from"./Card-D0ap9KdA.js";import{u as x,E as u}from"./http-hook-sUJLLvpC.js";const j=s=>e.jsx("div",{className:`avatar ${s.className}`,style:s.style,children:e.jsx("img",{src:s.image,alt:s.alt,style:{width:s.width,height:s.width}})}),g=s=>e.jsx("li",{className:"user-item",children:e.jsx(c,{className:"user-item__content",children:e.jsxs(d,{to:`/${s.id}/places`,children:[e.jsx("div",{className:"user-item__image",children:e.jsx(j,{image:`${s.image}`,alt:s.name})}),e.jsxs("div",{className:"user-item__info",children:[e.jsx("h2",{children:s.name}),e.jsxs("h3",{children:[s.placeCount," ",s.placeCount===1?"Place":"Places"]})]})]})})}),f=s=>s.items.length===0?e.jsx("div",{className:"center",children:e.jsx(c,{children:e.jsx("h2",{children:"No users found."})})}):e.jsx("ul",{className:"users-list",children:s.items.map(a=>e.jsx(g,{id:a.id,image:a.image,name:a.name,placeCount:a.places.length},a.id))}),E=()=>{const{isLoading:s,error:a,sendRequest:t,clearError:l}=x(),[r,m]=n.useState();return n.useEffect(()=>{(async()=>{try{const i=await t("https://mern-picture-app.uc.r.appspot.com/api/users");m(i.users)}catch{}})()},[t]),e.jsxs(h.Fragment,{children:[e.jsx(u,{error:a,onClear:l}),s&&e.jsx("div",{className:"center",children:e.jsx(o,{})}),!s&&r&&e.jsx(f,{items:r})]})};export{E as default};
